<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <li class="nav-link nav-home-link"><a href="index.html">Home</a></li><li class="nav-heading">Modules</li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-auto_check_in.html">auto_check_in</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-change_keys.html">change_keys</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-change_rules.html">change_rules</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-merge_nodes.html">merge_nodes</a></span></li><li class="nav-heading"><span class="nav-item-type type-module">M</span><span class="nav-item-name"><a href="module-subs_info_domains.html">subs_info_domains</a></span></li>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>CFW Scripts</h1>
<p><a href="https://github.com/yi-Xu-0100/hub-mirror"><img src="https://github.com/yi-Xu-0100/hub-mirror/workflows/sync2gitee(list)/badge.svg" alt="sync2gitee(list)"></a>
<a href="https://github.com/yi-Xu-0100/cfw-scripts"><img src="https://img.shields.io/github/last-commit/yi-Xu-0100/cfw-scripts" alt="Github last commit"></a>
<a href="https://github.com/yi-Xu-0100/cfw-scripts/releases"><img src="https://img.shields.io/github/v/release/yi-Xu-0100/cfw-scripts" alt="Github latest release"></a>
<a href="./LICENSE"><img src="https://img.shields.io/github/license/yi-Xu-0100/cfw-scripts" alt="Github license"></a></p>
<p><a href="https://github.com/yi-Xu-0100/traffic2badge/tree/traffic#-cfw-scripts"><img src="https://raw.githubusercontent.com/yi-Xu-0100/traffic2badge/traffic/traffic-cfw-scripts/views.svg" alt="views"></a>
<a href="https://github.com/yi-Xu-0100/traffic2badge/tree/traffic#-cfw-scripts"><img src="https://raw.githubusercontent.com/yi-Xu-0100/traffic2badge/traffic/traffic-cfw-scripts/views_per_week.svg" alt="views per week"></a>
<a href="https://github.com/yi-Xu-0100/traffic2badge/tree/traffic#-cfw-scripts"><img src="https://raw.githubusercontent.com/yi-Xu-0100/traffic2badge/traffic/traffic-cfw-scripts/clones.svg" alt="clones"></a>
<a href="https://github.com/yi-Xu-0100/traffic2badge/tree/traffic#-cfw-scripts"><img src="https://raw.githubusercontent.com/yi-Xu-0100/traffic2badge/traffic/traffic-cfw-scripts/clones_per_week.svg" alt="clones per week"></a></p>
<p>Some scripts for <a href="https://docs.cfw.lbyczf.com/contents/parser.html"><code>parser</code></a> in <a href="https://github.com/Fndroid/clash_for_windows_pkg"><code>Fndroid/clash_for_windows_pkg</code></a>.</p>
<p><strong>Only for studying and testing usage, and delete code yourself with the usage completed. Thanks!</strong> 😜</p>
<h2>🚀 Usage</h2>
<h3>📝 setup repository with git and npm</h3>
<p>The scripts used <a href="https://github.com/mikaelbr/node-notifier"><code>mikaelbr/node-notifier</code></a> for fitting windows notification persist in action center.</p>
<pre class="prettyprint source lang-bash"><code>git clone https://github.com/yi-Xu-0100/cfw-scripts.git
npm ci
npm run start
</code></pre>
<p>The notify will be test and copy <code>./lib/variables.yml</code> and <code>./lib/rule-providers.yml</code> to <code>./scripts/variables.yml</code> and <code>./scripts/rule-providers.yml</code>. <strong>You can set variables in <code>./scripts/variables.yml</code> and set personal rule in <code>./scripts/rule-providers.yml</code>, and the files will include in <code>.gitignore</code>.</strong></p>
<h3>📝 Setup parser for <code>change-keys.js</code></h3>
<p><strong>The script was used to change keys for fitting <a href="https://github.com/Dreamacro/clash/wiki/breaking-changes-in-1.0.0">breaking changes</a> in clash v1.0.0.</strong></p>
<p>You can set the parsers with <code>reg</code> to fit the all link without string <code>www.example.com</code>.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^((?!www\.example\.com).)*$
    file: 'D:/Applications/cfw-scripts/scripts/change-keys.js' #set the path of `change-keys.js`.
</code></pre>
<h3>📝 Setup parser for <code>change-rules.js</code></h3>
<p><strong>The script will use <a href="https://lancellc.gitbook.io/clash/clash-config-file/rule-provider"><code>rule-providers</code></a> with <a href="https://github.com/Loyalsoldier/clash-rules"><code>Loyalsoldier/clash-rules</code></a>.</strong></p>
<p>You can set the parsers with <code>reg</code> to fit the all link without string <code>www.example.com</code>.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^((?!www\.example\.com).)*$
    file: 'D:/Applications/cfw-scripts/scripts/change-rules.js' #set the path of `change-rules.js`.
</code></pre>
<h3>📝 Setup parser for <code>merge-nodes.js</code></h3>
<p><strong>The script should use behind <code>change-rules.js</code>. The variables need to be set in <code>./scripts/variables.yml</code>.</strong></p>
<p>You can set the parsers with <code>reg</code> to fit the all link without string <code>www.example.com</code>.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^((?!www\.example\.com).)*$
    file: 'D:/Applications/cfw-scripts/scripts/merge-nodes.js' #set the path of `merge-nodes.js`.
</code></pre>
<h3>📝 Setup parser for <code>auto-check-in.js</code></h3>
<p><strong>The script was used to automatic check in. The variables need to be set in <code>./scripts/variables.yml</code>.</strong></p>
<p>You can set the parsers with <code>reg</code> to fit the all link without string <code>www.example.com</code>.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^((?!www\.example\.com).)*$
    file: 'D:/Applications/cfw-scripts/scripts/auto-check-in.js' #set the path of `auto-check-in.js`.
</code></pre>
<p><strong>It will add fake node into <code>proxies</code> and add <code>CHECK-INFO</code> into the end of <code>proxy-groups</code>. Be careful to edit the subscription later.</strong></p>
<h3>📝 Setup parser for <code>subs-info-parser.js</code></h3>
<p><strong>The script was used to get subscription information of domains. The variables need to be set in <code>./scripts/variables.yml</code>.</strong></p>
<p>You can set the parsers with <code>reg</code> to fit the all link without string <code>www.example.com</code>.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^((?!www\.example\.com).)*$
    file: 'D:/Applications/cfw-scripts/scripts/subs-info-parser.js' #set the path of `subs-info-parser.js`.
</code></pre>
<p><strong>It will add fake node into <code>proxies</code> and add <code>SUBS-INFO</code> into the end of <code>proxy-groups</code>. Be careful to edit the subscription later.</strong></p>
<p>You can set <code>current</code> and <code>expire</code> in <code>./scripts/variables.yml</code> with <code>subs_info_config</code>. The <code>current</code> for controlling whether the subscription information of current URL showing, and The <code>expire</code> for controlling whether the expiry time of subscription information showing.(The subscription information of domains in variables will all show. See in<a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/lib/variables.js">example</a>)</p>
<h3>📝 Setup <code>Enhanced Tray</code> for <code>info.js</code></h3>
<p>The script was used to get CPU and memory usage. And it will display the two pieces of information in a separate line.</p>
<h3>📝 Append traffic data with <code>subscription-userinfo.js</code></h3>
<p>The script was used to get subscription-userinfo from subscription url with different ua of <code>User-Agent:Quantumult%20X/1.0.23 (iPhone12,3; iOS 14.6)</code>.</p>
<p>You can set the parser with <code>reg</code> to fit the all link after other parser.</p>
<pre class="prettyprint source lang-yml"><code>parsers:
  - reg: ^.*$
    file: 'D:/Applications/cfw-scripts/scripts/subscription-userinfo.js' #set the path of `subscription-userinfo.js`.
</code></pre>
<h2>📝 Scripts</h2>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">description</th>
<th style="text-align:center">variables</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/change-keys.js">change-keys.js</a></td>
<td style="text-align:center">fit new version key</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/change-rules.js">change-rules.js</a></td>
<td style="text-align:center">add personal rule</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/merge-nodes.js">merge-nodes.js</a></td>
<td style="text-align:center">merge nodes</td>
<td style="text-align:center">merge-nodes</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/subs-info-parser.js">subs-info-parser.js</a></td>
<td style="text-align:center">get subscription information</td>
<td style="text-align:center">subs-info-parser</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/auto-check-in.js">auto-check-in.js</a></td>
<td style="text-align:center">auto check in</td>
<td style="text-align:center">auto-check-in</td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/scripts/subscription-userinfo.js">subscription-userinfo.js</a></td>
<td style="text-align:center">get subscription information</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<h2>🍱 Libraries</h2>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">description</th>
<th style="text-align:center">dependencies</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/lib/variables.json">variables.json</a></td>
<td style="text-align:center">variables for scripts</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/lib/notify.js">notify.js</a></td>
<td style="text-align:center">notify for windows</td>
<td style="text-align:center"><a href="https://github.com/mikaelbr/node-notifier">mikaelbr/node-notifier</a></td>
</tr>
<tr>
<td style="text-align:center"><a href="https://github.com/yi-Xu-0100/cfw-scripts/tree/main/lib/rule-providers.json">rule-providers.json</a></td>
<td style="text-align:center">template for rule-providers</td>
<td style="text-align:center"><a href="https://github.com/Loyalsoldier/clash-rules">Loyalsoldier/clash-rules</a></td>
</tr>
</tbody>
</table>
<h2>🔊 CHANGELOG</h2>
<ul>
<li><a href="https://github.com/yi-Xu-0100/cfw-scripts/blob/main/CHANGELOG.md">CHANGELOG</a></li>
</ul>
<h2>📄 LICENSE</h2>
<ul>
<li><a href="https://github.com/yi-Xu-0100/cfw-scripts/blob/main/LICENSE">MIT</a></li>
</ul>
<h2>🎉 Thanks</h2>
<ul>
<li><a href="https://github.com/Fndroid/clash_for_windows_pkg">Fndroid/clash_for_windows_pkg</a></li>
<li><a href="https://github.com/Loyalsoldier/clash-rules">Loyalsoldier/clash-rules</a></li>
</ul></article>
    </section>






</div>

<br class="clear">

<footer>
    Generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.7</a> on Thu Feb 03 2022 00:49:34 GMT+0000 (Coordinated Universal Time) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>